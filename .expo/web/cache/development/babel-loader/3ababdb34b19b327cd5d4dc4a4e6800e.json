{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { VictoryLine } from \"victory\";\nimport styles from \"./style\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function BitcoinSistem() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(\"bitcoin\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      coin = _useState4[0],\n      setCoin = _useState4[1];\n\n  var _useState5 = useState(30),\n      _useState6 = _slicedToArray(_useState5, 2),\n      period = _useState6[0],\n      setPeriod = _useState6[1];\n\n  useEffect(function () {\n    getData();\n  }, [coin, period]);\n\n  function getData() {\n    var response, formatData;\n    return _regeneratorRuntime.async(function getData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(\"https://api.coingecko.com/api/v3/coins/\" + coin + \"/market_chart?vs_currency=usd&days=\" + period));\n\n          case 3:\n            response = _context.sent;\n            formatData = response.data.prices.map(function (i) {\n              return {\n                x: i[0],\n                y: i[1]\n              };\n            });\n            setData(formatData);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.header,\n      children: \"Qual criptomoeda vale mais hoje?\"\n    }), _jsxs(View, {\n      style: styles.coins,\n      children: [_jsx(Text, {\n        style: [styles.title, coin === \"bitcoin\" ? styles.underline : null],\n        onPress: function onPress() {\n          return setCoin(\"bitcoin\");\n        },\n        children: \"Bitcoin\"\n      }), _jsx(Text, {\n        style: [styles.title, coin === \"ethereum\" ? styles.underline : null],\n        onPress: function onPress() {\n          return setCoin(\"ethereum\");\n        },\n        children: \"Ethereum\"\n      })]\n    }), _jsx(View, {\n      style: styles.grafico,\n      children: _jsx(VictoryLine, {\n        style: {\n          data: {\n            stroke: \"#000\",\n            strokeWidth: 2\n          }\n        },\n        width: 400,\n        height: 200,\n        data: data\n      })\n    }), _jsx(\"br\", {}), _jsxs(View, {\n      style: styles.timeWrapper,\n      children: [_jsx(Text, {\n        style: [styles.time, period === 1 ? styles.underline : null],\n        onPress: function onPress() {\n          return setPeriod(1);\n        },\n        children: \"1 Dia\"\n      }), _jsx(Text, {\n        style: [styles.time, period === 7 ? styles.underline : null],\n        onPress: function onPress() {\n          return setPeriod(7);\n        },\n        children: \"1 Semana\"\n      }), _jsx(Text, {\n        style: [styles.time, period === 30 ? styles.underline : null],\n        onPress: function onPress() {\n          return setPeriod(30);\n        },\n        children: \"1 M\\xEAs\"\n      }), _jsx(Text, {\n        style: [styles.time, period === 365 ? styles.underline : null],\n        onPress: function onPress() {\n          return setPeriod(365);\n        },\n        children: \"1 Ano\"\n      }), _jsx(\"br\", {})]\n    })]\n  });\n}","map":{"version":3,"names":["axios","React","useEffect","useState","VictoryLine","styles","BitcoinSistem","data","setData","coin","setCoin","period","setPeriod","getData","get","response","formatData","prices","map","i","x","y","console","log","container","header","coins","title","underline","grafico","stroke","strokeWidth","timeWrapper","time"],"sources":["C:/Users/geand/Desktop/PC/projetos/app-bitcoin/src/content/BitcoinSistem/index.js"],"sourcesContent":["import axios from \"axios\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { Text, View } from \"react-native\"\r\nimport { VictoryLine } from \"victory\"\r\n\r\n//importnado o style\r\nimport styles from \"./style\"\r\n\r\nexport default function BitcoinSistem() {\r\n  \r\n\tconst [ data, setData ] = useState()\r\n\tconst [ coin, setCoin ] = useState(\"bitcoin\")\r\n\tconst [ period, setPeriod ] = useState(30)\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tgetData()\r\n\t\t},\r\n\t\t[ coin, period ]\r\n\t)\r\n\r\n\tasync function getData() {\r\n\t\ttry {\r\n\t\t\t//recebendo a url da api\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t`https://api.coingecko.com/api/v3/coins/${coin}/market_chart?vs_currency=usd&days=${period}`\r\n\t\t\t)\r\n\t\t\tconst formatData = response.data.prices.map(function(i) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tx: i[0],\r\n\t\t\t\t\ty: i[1]\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tsetData(formatData)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<View style={styles.container}>\r\n\t\t\t<Text style={styles.header}>Qual criptomoeda vale mais hoje?</Text>\r\n\t\t\t<View style={styles.coins}>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tstyle={[ styles.title, coin === \"bitcoin\" ? styles.underline : null ]}\r\n\t\t\t\t\tonPress={() => setCoin(\"bitcoin\")}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*nome da cripto moeda*/}\r\n\t\t\t\t\tBitcoin\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Text\r\n\t\t\t\t\tstyle={[ styles.title, coin === \"ethereum\" ? styles.underline : null ]}\r\n\t\t\t\t\tonPress={() => setCoin(\"ethereum\")}\r\n\t\t\t\t>\r\n\t\t\t\t\t{/*nome da cripto moeda*/}\r\n\t\t\t\t\tEthereum\r\n\t\t\t\t</Text>\r\n\t\t\t</View>\r\n\r\n\t\t\t<View style={styles.grafico}>\r\n\t\t\t<VictoryLine\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tstroke: \"#000\",\r\n\t\t\t\t\t\tstrokeWidth: 2,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\twidth={400}\r\n\t\t\t\theight={200}\r\n\t\t\t\tdata={data}\r\n\t\t\t\t\r\n\t\t\t/>\r\n            </View>\r\n\r\n\t\t\t<br/>\r\n            {/*secao de dias / mes / ano /  para filtrar o grafico*/}\r\n\t\t\t<View style={styles.timeWrapper}>\r\n\t\t\t\t<Text style={[ styles.time, period === 1 ? styles.underline : null ]} onPress={() => setPeriod(1)}>\r\n\t\t\t\t\t1 Dia\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Text style={[ styles.time, period === 7 ? styles.underline : null ]} onPress={() => setPeriod(7)}>\r\n\t\t\t\t\t1 Semana\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Text style={[ styles.time, period === 30 ? styles.underline : null ]} onPress={() => setPeriod(30)}>\r\n\t\t\t\t\t1 MÃªs\r\n\t\t\t\t</Text>\r\n\t\t\t\t<Text style={[ styles.time, period === 365 ? styles.underline : null ]} onPress={() => setPeriod(365)}>\r\n\t\t\t\t\t1 Ano\r\n\t\t\t\t</Text>\r\n\r\n                <br/>\r\n\r\n\t\t\t</View>\r\n\t\t</View>\r\n\t)\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}